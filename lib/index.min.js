!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("chimee-plugin-popup")):"function"==typeof define&&define.amd?define(["chimee-plugin-popup"],t):t(e.popupFactory)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,function(e,t){if("undefined"==typeof document)return t;e=e||"";var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}("chimee-center-state{position:absolute}@keyframes a{0%{opacity:1}to{transform:scale(2);opacity:0}}chimee-center-state-correct,chimee-center-state-error,chimee-center-state-loading,chimee-center-state-tip{display:none}chimee-center-state.correct chimee-center-state-correct,chimee-center-state.error chimee-center-state-error,chimee-center-state.loading chimee-center-state-loading,chimee-center-state.tip chimee-center-state-tip{display:inline-block}chimee-center-state-correct{width:104px;height:104px}chimee-center-state-tip{position:absolute;left:26px;bottom:26px;width:52px;height:52px;border-radius:26px;background:rgba(0,0,0,.5);animation:a .5s linear 1 normal forwards}chimee-center-state.play span{background-image:url(image/play.svg)}chimee-center-state.pause span{background-image:url(image/pause.svg)}chimee-center-state.back span{background-image:url(image/back.svg)}chimee-center-state.forward span{background-image:url(image/forward.svg)}chimee-center-state.volume-high span{background-image:url(image/volume-high.svg)}chimee-center-state.volume-low span{background-image:url(image/volume-low.svg)}chimee-center-state-tip span{display:inline-block;width:24px;height:24px;margin:14px}chimee-center-state-loading,chimee-center-state-tip span{background-origin:content-box;background-size:auto 100%;background-repeat:no-repeat;background-position:50%}chimee-center-state-loading{width:52px;height:52px;padding:26px;background-image:url(image/loading.svg)}chimee-center-state-error{display:none;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:180px;font-size:16px;z-index:1;color:#ffcf00;text-shadow:0 0 3px red;font-weight:100}",void 0);var t=e({name:"chimeeCenterState",tagName:"chimee-center-state",html:"\n    <chimee-center-state-correct>\n      <chimee-center-state-loading></chimee-center-state-loading>\n      <chimee-center-state-tip>\n        <span></span>\n      </chimee-center-state-tip>\n    </chimee-center-state-correct>\n    <chimee-center-state-error>加载失败，请刷新重试</chimee-center-state-error>\n  ",offset:"50%",hide:!1,create:function(){},penetrate:!0,operable:!1,destroy:function(){this.clearTimeout()},events:{pause:function(){this.showTip("pause"),this.showLoading(!1)},play:function(){this.showTip("play")},canplay:function(){this.playing()},playing:function(){this.playing()},waiting:function(){this.waiting()},timeupdate:function(){this.clearTimeout()},keydown:function(e){switch(e.stopPropagation(),e.keyCode){case 37:e.preventDefault(),!this.live&&this.showTip("back");break;case 39:e.preventDefault(),!this.live&&this.showTip("forward");break;case 38:e.preventDefault(),this.showTip("volume-high");break;case 40:e.preventDefault(),this.showTip("volume-low")}}},methods:{playing:function(){this.clearTimeout(),this.showLoading(!1),this.showError(!1)},waiting:function(){var e=this;this.clearTimeout(),this._timeout=setTimeout(function(){return e.showError()},3e4),!this.paused&&this.showLoading()},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)}),showTip:function(e){var t=this;this.$domWrap.removeClass("correct tip play pause back forward volume-high volume-low").addClass("correct tip "+e),setTimeout(function(){t.$domWrap.removeClass("tip "+e)},500)},showLoading:function(e){!1===e?this.$domWrap.removeClass("loading"):this.$domWrap.addClass("correct loading")},showError:function(e){!1===e?this.$domWrap.removeClass("error"):(this.$domWrap[0].className="",this.$domWrap.addClass("error"))}}});module.exports=t});
